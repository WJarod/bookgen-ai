<!DOCTYPE html>
<html lang="fr" data-bs-theme="dark">
<head>
  <meta charset="UTF-8">
  <title>Générateur de Livre</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
</head>
<body class="p-4 position-relative">

  <div class="container">
    <h1 class="mb-4">📘 Générateur de Livre IA</h1>

    <form id="variablesForm" class="mb-4">
      <div class="mb-3">
        <label for="bookType" class="form-label">Type de livre</label>
        <select id="bookType" name="bookType" class="form-select">
          <option value="Roman">Roman</option>
          <option value="Livre de recettes">Livre de recettes</option>
          <option value="Ebook de motivation">Ebook de motivation</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="age" class="form-label">Tranche d'âge</label>
        <select id="age" name="age" class="form-select">
          <option value="6-8">6-8 ans</option>
          <option value="9-12">9-12 ans</option>
          <option value="13-15">13-15 ans</option>
          <option value="16-18">16-18 ans</option>
          <option value="18-25">18-25 ans</option>
          <option value="25+">25 ans et plus</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="chapters" class="form-label">Nombre de chapitres</label>
        <select id="chapters" name="chapters" class="form-select">
          <option value="1">1</option>
          <option value="3">3</option>
          <option value="5" selected>5</option>
          <option value="7">7</option>
          <option value="10">10</option>
          <option value="15">15</option>
          <option value="20">20</option>
          <option value="25">25</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="bookTitle" class="form-label">Titre du livre</label>
        <input type="text" id="bookTitle" name="bookTitle" class="form-control" placeholder="Ex : Les mystères d’Anubis">
      </div>
      <div class="mb-3">
        <label for="author" class="form-label">Nom de l’auteur</label>
        <input type="text" id="author" name="author" class="form-control" placeholder="Ex : Jarod">
      </div>
      <div class="mb-3">
        <label for="characterName" class="form-label">Nom du personnage principal</label>
        <input type="text" id="characterName" name="characterName" class="form-control" placeholder="Ex : Anubis">
      </div>
      <div class="mb-3">
        <label for="theme" class="form-label">Thème</label>
        <input type="text" id="theme" name="theme" class="form-control" placeholder="Ex : Une prophétie oubliée ressurgit dans le présent">
      </div>
    </form>

    <div class="d-flex gap-2 mb-3">
      <button id="generateBtn" class="btn btn-outline-primary" type="button">
        📝 Prévisualiser le prompt
      </button>
      <button id="confirmGenerationBtn" type="button" class="btn btn-outline-warning">
        🚀 Générer le livre à partir du prompt
      </button>
      <div id="usageDisplay" data-usage class="bg-dark text-light px-3 py-2 rounded border border-secondary small align-self-center">
        💰 0.0000 $ | 🔢 0 tokens
      </div>
      <button id="downloadBtn" class="btn btn-outline-success d-none">
        📥 Télécharger le PDF
      </button>
    </div>

    <div class="form-floating mb-3">
      <textarea id="promptPreview" class="form-control" style="height: 300px" readonly></textarea>
      <label for="promptPreview">Prompt généré (prévisualisation)</label>
    </div>

    <div class="form-floating mb-3">
      <textarea id="output" class="form-control" style="height: 300px" readonly></textarea>
      <label for="output">Contenu généré</label>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-pZjw8f+ua7Kw1TIq0v8FSC3Z6Ytk2E3UpS3zIJebE8ADedWxKuU+AM0Hqe7Fcpze" crossorigin="anonymous"></script>
  <script src="script.js" defer></script>
</body>
</html>
